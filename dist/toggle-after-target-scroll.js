import{p as d,f as i}from"./chunks/util.js";function f(s,o){let e=document.createElement("div");e.style.position="absolute",e.style.top=`${s}px`,e.style.left="0",e.style.width="1px",e.style.height="1px",e.style.pointerEvents="none",e.style.zIndex="-1",e.setAttribute("data-scroll-threshold-marker","true"),document.body.querySelector("[data-scroll-threshold-marker]")?e=document.body.querySelector("[data-scroll-threshold-marker]"):document.body.appendChild(e);function t(){return e.getBoundingClientRect().top<0}o(t());const r=new IntersectionObserver(([l])=>{l&&o(l.isIntersecting)},{root:null,threshold:0});return r.observe(e),()=>{r.disconnect(),e.parentNode&&e.parentNode.removeChild(e)}}function u(s,o){const e=[];for(const[t,r]of Object.entries(o))t.startsWith("--")&&(s.style.setProperty(t,r),e.push(t));return function(){for(const t of e)s.style.removeProperty(t)}}const y=()=>{const s=Array.from(document.querySelectorAll("[data-toggle-after-target-scroll-element]"));let o;for(const e of s){const t=d(e.dataset.afterScrollInitialOffset,100),r=i(e.dataset.afterScrollTriggerClass,"scrolled-below"),l=e.dataset.afterScrollTriggerVarMode;let n;f(t,c=>{if(c)e.classList.remove(r),l&&n!==void 0&&(n(),n=void 0);else if(e.classList.add(r),l&&o){const a=o[l];if(!a)return;n=u(e,a)}})}window.wfVarModes.onReady(e=>{o=e})};y();
