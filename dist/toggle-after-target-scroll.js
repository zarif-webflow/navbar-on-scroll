import{p as i,f}from"./chunks/util.js";function c(l,t){let e=document.createElement("div");e.style.position="absolute",e.style.top=`${l}px`,e.style.left="0",e.style.width="1px",e.style.height="1px",e.style.pointerEvents="none",e.style.zIndex="-1",e.setAttribute("data-scroll-threshold-marker","true"),document.body.querySelector("[data-scroll-threshold-marker]")?e=document.body.querySelector("[data-scroll-threshold-marker]"):document.body.appendChild(e);function o(){return e.getBoundingClientRect().top<0}t(o());const r=new IntersectionObserver(([s])=>{s&&t(s.isIntersecting)},{root:null,threshold:0});return r.observe(e),()=>{r.disconnect(),e.parentNode&&e.parentNode.removeChild(e)}}function u(l,t){const e=[];for(const[o,r]of Object.entries(t))o.startsWith("--")&&(l.style.setProperty(o,r),e.push(o));return function(){for(const o of e)l.style.removeProperty(o)}}const m=()=>{const l=Array.from(document.querySelectorAll("[data-toggle-after-target-scroll-element]"));for(const t of l){const e=i(t.dataset.afterScrollInitialOffset,100),o=f(t.dataset.afterScrollTriggerClass,"scrolled-below"),r=t.dataset.afterScrollTriggerVarMode;let s;if(r!==void 0){window.wfVarModes.onReady(n=>{const a=r?n[r]:void 0;c(e,d=>{d?(t.classList.remove(o),r&&s!==void 0&&(s(),s=void 0)):(t.classList.add(o),r&&a&&(s=u(t,a)))})});return}c(e,n=>{n?t.classList.remove(o):t.classList.add(o)})}};m();
